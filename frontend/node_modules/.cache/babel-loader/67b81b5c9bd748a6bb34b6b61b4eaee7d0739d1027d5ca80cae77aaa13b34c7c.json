{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\duyan\\\\trangsucvn\\\\frontend\\\\src\\\\context\\\\CartContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext } from \"react\";\nimport { AuthContext } from \"./AuthContext\"; // Import để lấy user/token\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [cart, setCart] = useState([]);\n  const authContext = useContext(AuthContext); // Lấy full AuthContext\n  const {\n    user,\n    token\n  } = authContext || {}; // Fallback nếu chưa ready\n\n  // Load local cart khi init (chạy đầu tiên)\n  useEffect(() => {\n    console.log(\" Loading local cart...\"); // Debug\n    const savedCart = localStorage.getItem(\"cart\");\n    if (savedCart) {\n      const parsedCart = JSON.parse(savedCart);\n      setCart(parsedCart);\n      console.log(\" Local cart loaded:\", parsedCart);\n    }\n  }, []);\n\n  // Sync localStorage khi cart thay đổi\n  useEffect(() => {\n    if (cart.length > 0) {\n      // Chỉ sync nếu có data\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      console.log(\" Synced to localStorage:\", cart.length, \"items\");\n    }\n  }, [cart]);\n\n  // Fetch & merge cart từ server nếu logged in (chạy sau khi Auth ready)\n  // Fetch & merge cart từ server nếu logged in (chạy sau khi Auth ready)\n  useEffect(() => {\n    console.log(\" User status:\", user ? `Logged in: ${user._id}` : \"Guest\"); // Debug user ID\n    if (user && token) {\n      console.log(\" Fetching server cart for user:\", user._id);\n\n      // Clear local cart cũ khi switch user (để tránh giữ data user trước)\n      localStorage.removeItem(\"cart\"); // Clear ngay khi user mới\n      setCart([]); // Clear state tạm\n\n      // Fetch fresh từ server\n      fetchCartFromServer();\n    } else {\n      // Guest: Load/keep local\n      console.log(\" Guest mode: Keep local only\");\n    }\n  }, [user, token]); // Trigger mỗi khi user ID thay đổi (switch login)\n\n  const fetchCartFromServer = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/api/cart\");\n      console.log(\" Server cart response:\", res.data); // Debug\n      if (res.data && res.data.items && res.data.items.length > 0) {\n        // Map server items bằng product_id (string)\n        const serverItemsMap = new Map(res.data.items.map(item => [item.product_id.toString(), {\n          ...item,\n          _id: item.product_id.toString()\n        }]) // Normalize _id cho merge\n        );\n\n        // Merge: Local + Server (ưu tiên server quantity, thêm local nếu server miss)\n        let mergedCart = [...cart]; // Bắt đầu từ local\n        serverItemsMap.forEach((serverItem, id) => {\n          const localIndex = mergedCart.findIndex(item => item._id === id);\n          if (localIndex !== -1) {\n            // Sync quantity từ server\n            mergedCart[localIndex] = {\n              ...mergedCart[localIndex],\n              quantity: serverItem.quantity\n            };\n          } else {\n            // Thêm từ server\n            mergedCart.push({\n              _id: serverItem.product_id.toString(),\n              name: serverItem.name,\n              price: serverItem.price,\n              imageUrl: serverItem.imageUrl || \"\",\n              // Nếu server có\n              quantity: serverItem.quantity\n            });\n          }\n        });\n        setCart(mergedCart);\n        console.log(\" Merged cart:\", mergedCart);\n      } else {\n        // Server rỗng: Giữ local (không clear!)\n        console.log(\" Server cart empty, keeping local\");\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"❌ Lỗi fetch cart từ server:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      // Không clear local nếu lỗi\n    }\n  };\n\n  // Helper sync to server (giữ nguyên)\n  // Fetch & merge cart từ server nếu logged in (chạy sau khi Auth ready)\n  useEffect(() => {\n    console.log(\" User status:\", user ? `Logged in: ${user._id}` : \"Guest\"); // Debug user ID\n    if (user && token) {\n      console.log(\" Fetching server cart for user:\", user._id);\n\n      // Clear local cart cũ khi switch user (để tránh giữ data user trước)\n      localStorage.removeItem(\"cart\"); // Clear ngay khi user mới\n      setCart([]); // Clear state tạm\n\n      // Fetch fresh từ server\n      fetchCartFromServer();\n    } else {\n      // Guest: Load/keep local\n      console.log(\" Guest mode: Keep local only\");\n    }\n  }, [user, token]); // Trigger mỗi khi user ID thay đổi (switch login)\n\n  const addToCart = product => {\n    const existing = cart.find(item => item._id === product._id);\n    let newCart;\n    if (existing) {\n      newCart = cart.map(item => item._id === product._id ? {\n        ...item,\n        quantity: item.quantity + 1\n      } : item);\n    } else {\n      newCart = [...cart, {\n        ...product,\n        quantity: 1\n      }];\n    }\n    setCart(newCart);\n    syncToServer(\"update\", product._id, existing ? existing.quantity + 1 : 1);\n  };\n  const removeFromCart = productId => {\n    const newCart = cart.filter(item => item._id !== productId);\n    setCart(newCart);\n    syncToServer(\"remove\", productId);\n  };\n  const updateQuantity = (productId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(productId);\n      return;\n    }\n    const newCart = cart.map(item => item._id === productId ? {\n      ...item,\n      quantity\n    } : item);\n    setCart(newCart);\n    syncToServer(\"update\", productId, quantity);\n  };\n  const clearCart = () => {\n    setCart([]);\n    syncToServer(\"clear\");\n  };\n  const getTotal = () => {\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addToCart,\n      removeFromCart,\n      updateQuantity,\n      clearCart,\n      getTotal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"QVwQ9VJ/7Cz6txshx2UEvDe4Q6A=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","AuthContext","axios","jsxDEV","_jsxDEV","CartContext","CartProvider","children","_s","cart","setCart","authContext","user","token","console","log","savedCart","localStorage","getItem","parsedCart","JSON","parse","length","setItem","stringify","_id","removeItem","fetchCartFromServer","res","get","data","items","serverItemsMap","Map","map","item","product_id","toString","mergedCart","forEach","serverItem","id","localIndex","findIndex","quantity","push","name","price","imageUrl","error","_error$response","response","message","addToCart","product","existing","find","newCart","syncToServer","removeFromCart","productId","filter","updateQuantity","clearCart","getTotal","reduce","total","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/duyan/trangsucvn/frontend/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from \"react\";\r\nimport { AuthContext } from \"./AuthContext\"; // Import để lấy user/token\r\nimport axios from \"axios\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const authContext = useContext(AuthContext); // Lấy full AuthContext\r\n  const { user, token } = authContext || {}; // Fallback nếu chưa ready\r\n\r\n  // Load local cart khi init (chạy đầu tiên)\r\n  useEffect(() => {\r\n    console.log(\" Loading local cart...\"); // Debug\r\n    const savedCart = localStorage.getItem(\"cart\");\r\n    if (savedCart) {\r\n      const parsedCart = JSON.parse(savedCart);\r\n      setCart(parsedCart);\r\n      console.log(\" Local cart loaded:\", parsedCart);\r\n    }\r\n  }, []);\r\n\r\n  // Sync localStorage khi cart thay đổi\r\n  useEffect(() => {\r\n    if (cart.length > 0) {\r\n      // Chỉ sync nếu có data\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      console.log(\" Synced to localStorage:\", cart.length, \"items\");\r\n    }\r\n  }, [cart]);\r\n\r\n  // Fetch & merge cart từ server nếu logged in (chạy sau khi Auth ready)\r\n  // Fetch & merge cart từ server nếu logged in (chạy sau khi Auth ready)\r\n  useEffect(() => {\r\n    console.log(\" User status:\", user ? `Logged in: ${user._id}` : \"Guest\"); // Debug user ID\r\n    if (user && token) {\r\n      console.log(\" Fetching server cart for user:\", user._id);\r\n\r\n      // Clear local cart cũ khi switch user (để tránh giữ data user trước)\r\n      localStorage.removeItem(\"cart\"); // Clear ngay khi user mới\r\n      setCart([]); // Clear state tạm\r\n\r\n      // Fetch fresh từ server\r\n      fetchCartFromServer();\r\n    } else {\r\n      // Guest: Load/keep local\r\n      console.log(\" Guest mode: Keep local only\");\r\n    }\r\n  }, [user, token]); // Trigger mỗi khi user ID thay đổi (switch login)\r\n\r\n  const fetchCartFromServer = async () => {\r\n    try {\r\n      const res = await axios.get(\"http://localhost:5000/api/cart\");\r\n      console.log(\" Server cart response:\", res.data); // Debug\r\n      if (res.data && res.data.items && res.data.items.length > 0) {\r\n        // Map server items bằng product_id (string)\r\n        const serverItemsMap = new Map(\r\n          res.data.items.map((item) => [\r\n            item.product_id.toString(),\r\n            { ...item, _id: item.product_id.toString() },\r\n          ]) // Normalize _id cho merge\r\n        );\r\n\r\n        // Merge: Local + Server (ưu tiên server quantity, thêm local nếu server miss)\r\n        let mergedCart = [...cart]; // Bắt đầu từ local\r\n        serverItemsMap.forEach((serverItem, id) => {\r\n          const localIndex = mergedCart.findIndex((item) => item._id === id);\r\n          if (localIndex !== -1) {\r\n            // Sync quantity từ server\r\n            mergedCart[localIndex] = {\r\n              ...mergedCart[localIndex],\r\n              quantity: serverItem.quantity,\r\n            };\r\n          } else {\r\n            // Thêm từ server\r\n            mergedCart.push({\r\n              _id: serverItem.product_id.toString(),\r\n              name: serverItem.name,\r\n              price: serverItem.price,\r\n              imageUrl: serverItem.imageUrl || \"\", // Nếu server có\r\n              quantity: serverItem.quantity,\r\n            });\r\n          }\r\n        });\r\n\r\n        setCart(mergedCart);\r\n        console.log(\" Merged cart:\", mergedCart);\r\n      } else {\r\n        // Server rỗng: Giữ local (không clear!)\r\n        console.log(\" Server cart empty, keeping local\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\r\n        \"❌ Lỗi fetch cart từ server:\",\r\n        error.response?.data || error.message\r\n      );\r\n      // Không clear local nếu lỗi\r\n    }\r\n  };\r\n\r\n  // Helper sync to server (giữ nguyên)\r\n  // Fetch & merge cart từ server nếu logged in (chạy sau khi Auth ready)\r\n  useEffect(() => {\r\n    console.log(\" User status:\", user ? `Logged in: ${user._id}` : \"Guest\"); // Debug user ID\r\n    if (user && token) {\r\n      console.log(\" Fetching server cart for user:\", user._id);\r\n\r\n      // Clear local cart cũ khi switch user (để tránh giữ data user trước)\r\n      localStorage.removeItem(\"cart\"); // Clear ngay khi user mới\r\n      setCart([]); // Clear state tạm\r\n\r\n      // Fetch fresh từ server\r\n      fetchCartFromServer();\r\n    } else {\r\n      // Guest: Load/keep local\r\n      console.log(\" Guest mode: Keep local only\");\r\n    }\r\n  }, [user, token]); // Trigger mỗi khi user ID thay đổi (switch login)\r\n\r\n  const addToCart = (product) => {\r\n    const existing = cart.find((item) => item._id === product._id);\r\n    let newCart;\r\n    if (existing) {\r\n      newCart = cart.map((item) =>\r\n        item._id === product._id\r\n          ? { ...item, quantity: item.quantity + 1 }\r\n          : item\r\n      );\r\n    } else {\r\n      newCart = [...cart, { ...product, quantity: 1 }];\r\n    }\r\n    setCart(newCart);\r\n    syncToServer(\"update\", product._id, existing ? existing.quantity + 1 : 1);\r\n  };\r\n\r\n  const removeFromCart = (productId) => {\r\n    const newCart = cart.filter((item) => item._id !== productId);\r\n    setCart(newCart);\r\n    syncToServer(\"remove\", productId);\r\n  };\r\n\r\n  const updateQuantity = (productId, quantity) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(productId);\r\n      return;\r\n    }\r\n    const newCart = cart.map((item) =>\r\n      item._id === productId ? { ...item, quantity } : item\r\n    );\r\n    setCart(newCart);\r\n    syncToServer(\"update\", productId, quantity);\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n    syncToServer(\"clear\");\r\n  };\r\n\r\n  const getTotal = () => {\r\n    return cart.reduce((total, item) => total + item.price * item.quantity, 0);\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        addToCart,\r\n        removeFromCart,\r\n        updateQuantity,\r\n        clearCart,\r\n        getTotal,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}